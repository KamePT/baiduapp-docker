"use strict";(self.webpackChunkvue=self.webpackChunkvue||[]).push([[614],{5771:function(e,t,s){s.d(t,{Z:function(){return a}});var i={name:"ActionDialog",props:{modal:{type:Boolean,default:!0},visible:{type:Boolean,default:!1},width:{type:String,default:"208px"},title:{type:String,default:"标题"},showClose:{type:Boolean,default:!0},hasIcon:{type:Boolean,default:!1}},data(){return{dialogVisible:!1}},watch:{visible(){this.dialogVisible=this.visible}},methods:{close(){this.$emit("update:visible",!1),this.$emit("close-modal")}}},a=(0,s(1001).Z)(i,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"dialog-common"},[t("el-dialog",{attrs:{title:e.title,width:e.width,modal:e.modal,visible:e.dialogVisible,"show-close":e.showClose,"close-on-click-modal":!1,top:"35vh"},on:{"update:visible":function(t){e.dialogVisible=t},close:e.close}},[e.hasIcon?t("div",{staticClass:"hasIcon-title-wrapper",attrs:{slot:"title"},slot:"title"},[t("img",{staticClass:"error-icon",attrs:{src:s(3752),alt:""}}),t("span",{staticClass:"icon-title"},[e._v(e._s(e.title))])]):e._e(),e._t("content"),e._t("footer")],2)],1)}),[],!1,null,"0e876ab0",null).exports},6926:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});s(7658);var i=s(6923),a=s(9544),o=s(1579),r=s.n(o),n=s(4738),l=s(3742);var c={props:{},data(){return{isMore:!1,isShowModule:!1,isShowShare:!1,clipBoardText:"",shareText:"",sharingParty:"",logoutVisible:!1,isUnbinding:!0}},computed:{...(0,i.Se)({getUserName:"userStore/getUserName",getNVip:"userStore/getNVip",getsVip:"userStore/getsVip",getAvatarUrl:"userStore/getAvatarUrl",getTimerPayment:"paymentStore/getTimerPayment",getMemberBecomeDue:"userStore/getMemberBecomeDue"})},watch:{$route:{handler:function(e,t){this.$store.commit("navStore/SET_NAV",e.path)},deep:!0}},filters:{},created(){},mounted(){this.refreshMember(),this.personNetDiskCapacity(),this.$store.commit("navStore/SET_NAV",this.$route.path),this.keyboardDown(this)},beforeDestroy(){},methods:{...(0,i.nv)({pollingTimerPayment:"paymentStore/pollingTimerPayment",personNetDiskCapacity:"netDiskCapacityStore/personNetDiskCapacity"}),keyboardDown(e){document.onkeydown=function(){window.event.keyCode;window.event.metaKey||window.event.ctrlKey}},keydown(e){"ctrlC"===e&&this.readClipBoard()},readClipBoard(){try{navigator.clipboard.readText().then((e=>{if(""!==e&&-1!==e.indexOf("pan.baidu.com")){this.isShowModule=!0,this.clipBoardText=e;let t=r().cloneDeep(e);-1!==t.indexOf("--来自")?(this.shareText=t.substring(t.indexOf(""),t.indexOf("--来自")),this.sharingParty=t.substring(t.indexOf("--来自"),t.indexOf("分享"))+"分享"):(this.shareText=t,this.sharingParty="--来自百度网盘分享")}})).catch((e=>{this.isShowModule=!1,this.clipBoardText="",this.shareText="",this.sharingParty="",(0,n.y)({message:"当前域名未被浏览器授权剪切板权限，请前往浏览器设置开通",type:"error"})}))}catch(e){this.isShowModule=!1,this.clipBoardText="",this.shareText="",this.sharingParty="",(0,n.y)({message:"当前域名未被浏览器授权剪切板权限，请前往浏览器设置开通",type:"error"})}},refreshMember(){null!==this.getTimerPayment&&(clearTimeout(this.getTimerPayment),this.pollingTimerPayment())},mouseenterMore(){this.isMore=!0},mouseleaveMore(){this.isMore=!1},logout(){this.logoutVisible=!0},confirmLogout(){this.$api.article.initiateLogout({isUnBind:this.isUnbinding?1:0}).then((e=>{try{if(200===e.status)return 200===e.data.code?((a.Z.get("access_token")||a.Z.get("synology_token"))&&(a.Z.remove("access_token"),a.Z.remove("synology_token")),clearTimeout(this.getTimerPayment),sessionStorage.removeItem("vuex_synology"),this.$store.commit("emptyData"),this.isMore=!1,this.logoutVisible=!1,void this.$router.push({path:"/login"})):void(0,n.y)({message:e.data.message,type:"warning"});(0,n.y)({message:e.data.message,type:"warning"})}catch(e){(0,n.y)({message:"退出登录失败",type:"warning"})}})).catch((()=>{}))},closeShareLink(){this.isShowModule=!1,this.$emit("update:isShowModule",!1),this.clipBoardText="",this.shareText="",this.sharingParty="",navigator.clipboard.writeText("").then((e=>{})).catch((e=>{}))},openSharePanel(){this.isShowShare=!0},confirmFileUnloading(e){let t={shortUrl:e.link,pwd:e.code,savePanPath:"/我的资源",saveNasPath:e.path};this.$api.article.shareUnloading(t).then((e=>{try{if(200===e.status){if(200!==e.data.code)return void(0,n.y)({message:e.data.message,type:"warning"});200===e.data.code&&(0,n.y)({message:"转存成功",type:"success"})}}catch(e){(0,n.y)({message:"转存失败",type:"error"})}})).catch((e=>{(0,n.y)({message:"转存失败",type:"error"})}))},goFilePage(){window.location.href="/files"},openProblemFeedback(){window.open(l.g3,"_blank"),this.mouseleaveMore()}}},d=s(4288),m=s(5017);var v={name:"Navigation",mixins:[{props:{},data(){return{navList:m.hs,currentNav:""}},computed:{...(0,i.Se)({getNav:"navStore/getNav"})},watch:{},filters:{},created(){},mounted(){this.$store.commit("navStore/SET_NAV",this.$route.path)},beforeDestroy(){},methods:{linkUrl(e){this.$router.push({path:e}),this.$store.commit("navStore/SET_NAV",e)},renderingIcon(e){return this.getNav===e.href?e.checkedIcon:this.currentNav===e.href?e.floatIcon:e.icon},mouseenterNav(e){this.currentNav=e},mouseleaveNav(){this.currentNav=""}}}],components:{}},u=s(1001),g=(0,u.Z)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"nav"},[t("ul",{staticClass:"nav-list"},e._l(e.navList,(function(s,i){return t("li",{key:i,class:[e.getNav===s.href?"checked-nav":e.getNav!==s.href&&e.currentNav===s.href?"float-nav":"","li-item"],on:{click:function(t){return e.linkUrl(s.href)},mouseenter:function(t){return e.mouseenterNav(s.href)},mouseleave:function(t){return e.mouseleaveNav(s.href)}}},[t("el-image",{directives:[{name:"show",rawName:"v-show",value:e.getNav===s.href,expression:"getNav === item.href"}],attrs:{src:s.checkedIcon}}),t("el-image",{directives:[{name:"show",rawName:"v-show",value:e.getNav!==s.href&&e.currentNav===s.href,expression:"getNav !== item.href && currentNav === item.href"}],attrs:{src:s.floatIcon}}),t("el-image",{directives:[{name:"show",rawName:"v-show",value:e.getNav!==s.href&&e.currentNav!==s.href,expression:"getNav !== item.href && currentNav !== item.href"}],attrs:{src:s.icon}}),t("div",{class:[e.getNav===s.href?"checked-nav__text":e.getNav!==s.href&&e.currentNav===s.href?"float-nav__text":"","li-item__text"]},[e._v(e._s(s.title))])],1)})),0)])}),[],!1,null,"68798852",null).exports;var h={name:"Privilege",mixins:[{props:{},data(){return{privilegeList:m.jg}},computed:{},watch:{},filters:{},created(){},mounted(){this.initNasMemberAdvert()},beforeDestroy(){},methods:{initNasMemberAdvert(){this.$api.article.queryConfiguration("synology-nas_member").then((e=>{try{this.privilegeList=JSON.parse(e.data.data[0].conf_value.nas_member)}catch(e){this.privilegeList=m.jg}})).catch((()=>{this.privilegeList=m.jg}))}}},d.Z],components:{}},p=(0,u.Z)(h,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"privilege"},[t("div",{staticClass:"p-content-view"},[t("div",{staticClass:"p-content"},[t("div",{staticClass:"c-title"},[t("el-image",{attrs:{src:e.privilegeList.icon}}),t("div",{staticClass:"title-right"},[t("div",{staticClass:"r-top"},[e._v(e._s(e.privilegeList.oneLevelTitle))]),t("div",{staticClass:"r-bottom"},[e._v(e._s(e.privilegeList.twoLevelTitle))])])],1),t("div",{staticClass:"c-list"},[t("ul",{staticClass:"c-list-ul"},e._l(e.privilegeList.list,(function(s,i){return t("li",{key:i,staticClass:"c-item-li"},[t("el-image",{attrs:{src:s.icon}}),t("div",{staticClass:"c-item-li__text"},[e._v(e._s(s.title))])],1)})),0)]),t("div",{staticClass:"c-btn",on:{click:e.openNasMember}},[t("div",{staticClass:"c-btn__text"},[e._v(e._s(e.privilegeList.btnText))])])])])])}),[],!1,null,"00200b36",null).exports,f=s(8452),b=s(3837);var w={name:"Message",mixins:[{props:{},data(){return{messageIcon:m.E4}},computed:{...(0,i.Se)({getMesTips:"messageStore/getMesTips",getMesText:"messageStore/getMesText",getIsMember:"messageStore/getIsMember",getMesType:"messageStore/getMesType"}),getMes(){return m.E4[this.getMesType]}},watch:{getMesTips(){this.getMesTips&&setTimeout((()=>{this.close()}),5e3)}},filters:{},created(){},mounted(){},beforeDestroy(){},methods:{close(){this.$emit("update:visible",!1),this.$emit("close-modal"),this.$store.commit("clearMesStatus")},confirm(){this.$emit("update:visible",!1),this.$emit("confirm-modal"),this.$store.commit("clearMesStatus")}}}],components:{}},y=(0,u.Z)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"message"},[t("el-dialog",{attrs:{visible:e.getMesTips,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,modal:!1},on:{"update:visible":function(t){e.getMesTips=t},close:e.close}},[t("div",{class:["mes-content",e.getMes.class]},[t("el-image",{attrs:{src:e.getMes.icon}}),t("div",{staticClass:"mes-text"},[e._v(e._s(e.getMesText)),t("span",{directives:[{name:"show",rawName:"v-show",value:e.getIsMember,expression:"getIsMember"}],on:{click:e.confirm}},[e._v("开通会员")])])],1)])],1)}),[],!1,null,"5479b0ac",null).exports,N=s(5771),C=s(1420),_={name:"Default",mixins:[c,d.Z],components:{floatBubble:C.Z,actionDialog:N.Z,message:y,dialogSlot:f.Z,navigation:g,privilege:p,shareUnloading:b.Z}},x=(0,u.Z)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"default-view"},[t("div",{staticClass:"content"},[t("div",{staticClass:"navigation-module"},[t("div",{staticClass:"header-logo"},[t("float-bubble",{attrs:{"float-text":"百度网盘｜Synology"},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"header-logo__img"},[t("el-image",{attrs:{src:s(9976)},on:{click:e.goFilePage}})],1)]},proxy:!0}])})],1),t("div",{staticClass:"content-view"},[t("div",{staticClass:"module-top"},[t("navigation"),t("privilege",{directives:[{name:"show",rawName:"v-show",value:0===e.getNVip,expression:"getNVip === 0"}]})],1),t("div",{staticClass:"user-info"},[t("div",{staticClass:"user-icon"},[t("el-image",{attrs:{src:e.getAvatarUrl}})],1),t("div",{staticClass:"info-name"},[t("div",{staticClass:"info-name__text"},[e._v(e._s(e.getUserName))]),t("el-image",{directives:[{name:"show",rawName:"v-show",value:1===e.getNVip,expression:"getNVip === 1"}],attrs:{src:s(2234)}}),t("el-image",{directives:[{name:"show",rawName:"v-show",value:0===e.getNVip&&2===e.getsVip,expression:"getNVip === 0 && getsVip === 2"}],attrs:{src:s(7787)}}),t("el-image",{directives:[{name:"show",rawName:"v-show",value:0===e.getNVip&&2!==e.getsVip,expression:"getNVip === 0 && getsVip !== 2 "}],attrs:{src:s(8347)}})],1),t("div",{staticClass:"close-icon",on:{mouseenter:e.mouseenterMore,mouseleave:e.mouseleaveMore}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMore,expression:"isMore"}],staticClass:"logout-float"},[1===e.getNVip?t("div",{staticClass:"top-text"},[e._v(" NAS会员至："+e._s(e._f("moment")(1e3*e.getMemberBecomeDue,"YYYY-MM-DD"))+" "),t("span",{on:{click:function(t){return e.openNasMember(1)}}},[e._v("续费 >>")])]):e._e(),0===e.getNVip?t("div",{staticClass:"no-nas top-text"},[t("div",[e._v("您还不是会员")]),t("span",{on:{click:e.openNasMember}},[e._v("成为NAS会员 >")])]):e._e(),t("div",{staticClass:"btn-team"},[t("div",{staticClass:"problem-feedback",on:{click:e.openProblemFeedback}},[e._v("问题反馈")]),t("div",{staticClass:"line"}),t("div",{staticClass:"logout",on:{click:e.logout}},[e._v("退出登录")])]),t("div",{staticClass:"zhezhao"})]),t("div",{staticClass:"close-icon__img"},[t("el-image",{attrs:{src:e.isMore?s(6420):s(5350)}})],1)])])])]),t("div",{staticClass:"main-module"},[t("router-view")],1)]),t("share-unloading",{attrs:{"unloading-visible":e.isShowShare,"share-link":e.clipBoardText},on:{"update:unloadingVisible":function(t){e.isShowShare=t},"update:unloading-visible":function(t){e.isShowShare=t},"confirm-modal":e.confirmFileUnloading}}),t("dialog-slot",{attrs:{visible:e.isShowModule,title:"识别到网盘分享","is-open-vip":!1},on:{"update:visible":function(t){e.isShowModule=t},"close-modal":e.closeShareLink,"confirm-modal":e.openSharePanel},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"link-text"},[t("div",{staticClass:"link"},[e._v(e._s(e.shareText))]),t("div",{staticClass:"link-party"},[e._v(e._s(e.sharingParty))])])]},proxy:!0}])}),t("message",{on:{"confirm-modal":e.openNasMember}}),t("action-dialog",{attrs:{width:"318px",title:"确定退出登录吗?",hasIcon:!0,showClose:!1,visible:e.logoutVisible},on:{"update:visible":function(t){e.logoutVisible=t}},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{staticClass:"describe-content"},[e.isUnbinding?t("p",{staticClass:"describe-Info"},[e._v("此操作将解绑NAS设备，登录可重新绑定设备")]):t("p",{staticClass:"describe-Info"},[e._v("此操作将退出登录，不会解绑设备")]),t("div",{staticClass:"is-unbinding"},[t("el-checkbox",{model:{value:e.isUnbinding,callback:function(t){e.isUnbinding=t},expression:"isUnbinding"}},[e._v("解绑设备")])],1)])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticClass:"dialog-footer-content"},[t("a",{staticClass:"cancel-Btn",on:{click:function(t){e.logoutVisible=!1}}},[e._v("取消")]),t("a",{staticClass:"ok-Btn",on:{click:e.confirmLogout}},[e._v("确认")])])]},proxy:!0}])})],1)}),[],!1,null,"82c3b4d2",null).exports},3742:function(e,t,s){s.d(t,{Tm:function(){return a},g3:function(){return o},jz:function(){return i}});const i="https://pan.baidu.com/netdisk/duty_mobi/",a="https://pan.baidu.com/wap/privacy_policy",o="https://f.kdocs.cn/ksform/w/write/zpBPEdDb#routePromt"},8347:function(e,t,s){e.exports=s.p+"img/ordinary.6fee1894.svg"},7787:function(e,t,s){e.exports=s.p+"img/s_vip.3fc0bb71.svg"},9976:function(e,t,s){e.exports=s.p+"img/logo.f10e17ce.svg"},5350:function(e,t,s){e.exports=s.p+"img/more.326c689a.svg"},6420:function(e,t,s){e.exports=s.p+"img/more_float.2d87324f.svg"},3752:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAsCAYAAAANUxr1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJuSURBVHgB7ZjfcdpAEMa/E8QRk0yGEkgFpgPTQXjMA6BzBUAFJhUAFfiw9JBHdxDTAemAEvTGnxG32XPijBAISSBrPGP9Zhh0d0j6Zndvdw+gpKTknSGQEZLt+jr43KxUxDe+vUWgBk/X/y37/MAFfy9oR/OPnveIjKQWZIQE+ktfCxqEBCSxtEiowNrOaurnMs0NqQRte70+CRplEHIgTGv8qLmuSvphoqCt44wJeoAc4JdNrmbuMOE3J8XcsxiJHOEXKhZ1G7duIV7MOG8xBgLk1umO49aPWmjV7UrLwj1eEdIY2q47QZKglfzesOjDL75sIAX8gKcd0dxcV4S4YQu0kA7/SlS+CqX88OSBy6r6ykkrxmDE1B68kfm8CEtJfa2Dg81yIIjzjERBWEL0Scp6rKBNp9NGBuvkQH2NoIk4QWSl9n9uCI12eLwniE14jYIRAjfh8b6FgCYKRzTCo2hQn1urLiE+qN8CUUE+iudUYqQlCkaAFuFxNTwgwpyjPlNg88682zjdO5yJJvxGrCALj4LQRwYuqGXP7Cw8hcd7LrNRNebLFEcX1DLD8pPa77v3BJnKq4mmKAium7PoXDU6YVvVyZZ2xm2pcpJx06rXGb1cE1Kz5Ner6OTRBm0tuwOOpdiuLg+0wG1NHTb9RxOjrdwJvaLr+AQzPSbGcLLJZ1co3tYOcsTETU15Mm79ZOngnSPztNRfy8SLSRRksB+8gfE3noPwbHwSemgrL/F8l/oovZKyAQSSj8ZZem6fXTTl/DaJNvMXCwqzkZ02H2NalsA1QZhS8//PBlMPTQkyWd8k2rRCSkpK3i1/AFTQ7sEP5SSeAAAAAElFTkSuQmCC"}}]);